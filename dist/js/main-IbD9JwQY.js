import{j as e}from"./react-ejZHSj7z.js";import{u as X,a as he,b as xe,c as ct}from"./ahooks-3lX5GaIi.js";import{A as Ee,I as Fe,d as it,B as ge,a as ut,b as dt,P as mt,c as pt,D as Ue,e as ht,f as xt,F as gt,g as ft,h as jt,T as oe,i as St,j as we,k as Ne,l as ie,m as Oe,n as vt,o as Y,C as Ve,p as yt,q as bt,r as ze,s as Qe,t as _t,L as Ie,u as fe,S as je,v as Rt,w as Tt,x as wt,y as Ae,z as ke,E as Nt,G as Ot,H as It,J as At,K as kt,M as We,N as Ct,O as Mt,Q as Pt,R as Bt,U as Lt,V as $t,W as Dt,X as Et,Y as Ft,Z as Ut}from"./@mui-s8DGxEp2.js";import{c as Se,O as He,d as Vt,e as H}from"./react-router-GnPFSUwy.js";import{N as zt,H as Qt}from"./react-router-dom-kzRaAek2.js";import"./object-assign-4_VUvG2Z.js";import"./tslib-g6pQwBLH.js";import"./lodash-liWoq_f8.js";import"./@babel-moqvDIRK.js";import"./@emotion-tNa4IMmz.js";import"./hoist-non-react-statics-o0ngdJFr.js";import"./stylis-UTZzoVRx.js";import"./clsx-2Jv0kmJG.js";import"./@popperjs-v-la0Vhf.js";import"./@remix-run-Tfa50bkj.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const Wt="modulepreload",Ht=function(t,n){return new URL(t,n).href},Ce={},qt=function(n,a,s){let r=Promise.resolve();if(a&&a.length>0){const o=document.getElementsByTagName("link");r=Promise.all(a.map(l=>{if(l=Ht(l,s),l in Ce)return;Ce[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(!!s)for(let p=o.length-1;p>=0;p--){const x=o[p];if(x.href===l&&(!c||x.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${d}`))return;const m=document.createElement("link");if(m.rel=c?"stylesheet":Wt,c||(m.as="script",m.crossOrigin=""),m.href=l,document.head.appendChild(m),c)return new Promise((p,x)=>{m.addEventListener("load",p),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${l}`)))})}))}return r.then(()=>n()).catch(o=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o})},Gt="_root_x6ehs_1",Jt="_Skeleton_x6ehs_4",Kt="_aLink_x6ehs_14",le={root:Gt,Skeleton:Jt,aLink:Kt},Xt="_AppBar_1ydua_1",Yt="_menuIcon_1ydua_11",Zt="_Avatar_1ydua_19",en="_open_1ydua_27",tn="_Popover_1ydua_39",nn="_DialogActions_1ydua_49",an="_ToggleButtonGroup_1ydua_60",sn="_date_1ydua_69",rn="_AccordionDetails_1ydua_87",on="_AccordionSummary_1ydua_91",ln="_filterResult_1ydua_96",cn="_Breadcrumbs_1ydua_109",un="_CurrentFilterShow_1ydua_116",v={AppBar:Xt,menuIcon:Yt,Avatar:Zt,open:en,Popover:tn,DialogActions:nn,ToggleButtonGroup:an,date:sn,AccordionDetails:rn,AccordionSummary:on,filterResult:ln,Breadcrumbs:cn,CurrentFilterShow:un},dn="_AppBar_z9nlw_1",mn="_menuIcon_z9nlw_11",pn="_Avatar_z9nlw_19",hn="_open_z9nlw_27",xn="_Popover_z9nlw_39",gn="_DialogActions_z9nlw_49",C={AppBar:dn,menuIcon:mn,Avatar:pn,open:hn,Popover:xn,DialogActions:gn};var qe=(t=>(t.SET_TITLE="SET_TITLE",t))(qe||{}),Ge=(t=>(t.title="title",t))(Ge||{});const fn={title:""},jn=(t=fn,n)=>{const{type:a,payload:s={}}=n;switch(a){case"SET_TITLE":return{...t,...s};default:return t}},Sn=ReactRedux.useSelector,ve=1e3,E="adminId",F="Authorization",P="orgId",A=axios.defaults,{common:U}=A.headers,vn=axios.CancelToken.source();A.baseURL="http://121.196.247.3";A.withCredentials=!1;U[F]??=localStorage.getItem(F)??"";U[E]??=localStorage.getItem(E)??"";const V=(t,n)=>{try{const a=localStorage.getItem(F)??n;return a?String(JSON.parse(atob(a.split(".")?.[1]??""))?.[t]):""}catch{return""}},B="level",z=t=>V(B,t);U[B]??=z();U[P]??=V(P);const yn=new AbortController;A.signal=yn.signal;A.cancelToken=vn.token;const Me=window.caches,{adapter:q}=A,ue=t=>{try{return JSON.stringify(t)}catch{return""}},bn=({url:t,headers:n,params:a,data:s})=>[t,n?.[F],n?.[E],n?.[B],ue(a),ue(s)].join("_");q&&typeof q=="function"&&(A.adapter=async t=>{if(!Me)return q(t);const{url:n="",headers:a={},params:s,data:r}=t,o=bn({url:n,headers:a,params:s,data:r}),l=await Me?.open(n),c=await l?.match(o);if(c)return await c.json();const d=await q(t),{status:i,data:m}=d;return i===200&&typeof m=="string"&&m.includes(String(ve))&&await l?.put(o,new Response(ue(d))),d});axios.interceptors.request.use(async t=>t,t=>Promise.reject(t));axios.interceptors.response.use(async t=>t,async t=>Promise.reject(t));const Z=({...t})=>e.jsx(ge,{variant:"contained",size:"large",...t}),_n=()=>window.caches?.keys()?.then(t=>t.forEach(n=>window.caches?.delete(n))).catch(console.error);function Rn(t){const{menuOpenTrue:n,...a}=t,s=Sn(p=>p.AppBarTitle[Ge.title]),[r,o]=React.useState(null),[l,c]=React.useState(!1),d=()=>{c(!1)},i=!!r,m=Se();return e.jsxs(React.StrictMode,{children:[e.jsxs(Ee,{position:"sticky",className:C.AppBar??"",...a,children:[e.jsx(Fe,{onClick:n,className:C.menuIcon??"",size:"large",children:e.jsx(it,{})}),e.jsx("span",{children:s}),e.jsxs(ge,{className:classNames(C.Avatar,{[C.open??""]:i}),onClick:p=>{o(p.currentTarget)},children:[e.jsx(ut,{}),e.jsx("span",{children:localStorage.getItem(E)}),e.jsx(dt,{})]})]}),e.jsxs(mt,{anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:i,onClose:()=>{o(null)},className:C.Popover??"",children:[e.jsxs("p",{children:["用户等级：",e.jsx("span",{children:z()})]}),e.jsx(Z,{onClick:()=>ReactDOM.unstable_batchedUpdates(()=>{o(null),c(!0)}),startIcon:e.jsx(pt,{}),children:"退出登录"})]}),e.jsxs(Ue,{open:l,keepMounted:!0,onClose:d,children:[e.jsx(ht,{children:"确定要退出登录吗？"}),e.jsxs(xt,{className:C.DialogActions??"",children:[e.jsx(Z,{onClick:()=>{_n(),localStorage.clear(),m(ye(nt.login))},children:"确定"}),e.jsx(Z,{onClick:d,children:"取消"})]})]})]})}const{fromEntries:G}=Object,Je="custom",D=(t=new Date)=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,Ke=(...t)=>t.map(n=>n.replaceAll("-","/")).join("-"),Pe=t=>{const n=new Date;return n.setDate(n.getDate()-t),Ke(D(n),D())},J=[{label:"threeMonth",text:"近三个月",value:Pe(90)},{label:"thirtyDay",text:"近30天",value:Pe(30)},{label:Je,text:"自定义"}],ee=[{text:"市",label:"city_id"},{text:"区县",label:"area_id"},{text:"网格",label:"grid_id"},{text:"营业厅",label:"end_id"}],Tn="-1",wn=(t,n)=>[{[I]:`所有${n}`,regionId:Tn},...t.map(a=>({...a,[I]:`${a?.[I]}${n}`,regionId:a.regionId??"0"}))],Be="河北省",Le=t=>{const{address:n,hasDataIndex:a,isCustomTime:s,customTimeFormat:r,f:o=void 0,noNeedTime:l=!1,noNeedAddress:c=!1,unitName:d=[],setBreadcrumbsAddress:i}=t,m=!l&&!c;return e.jsxs(Qe,{className:v.filterResult??"",elevation:24,children:[m&&e.jsxs(React.StrictMode,{children:[e.jsxs("div",{children:["当前",e.jsx("wbr",{}),"筛选"]}),e.jsx("span",{children:"{"})]}),e.jsxs("div",{children:[e.jsxs("div",{children:["地理位置：",e.jsxs(_t,{className:v.Breadcrumbs??"",children:[a?e.jsx(Ie,{onClick:()=>{i(-1)},children:Be}):e.jsx("span",{children:Be}),d.filter(p=>n[p.label]).map((p,x,_)=>x===_.length-1?e.jsx("span",{children:n[p.label]?.[I]}):e.jsx(Ie,{onClick:()=>{i(x)},children:n[p.label]?.[I]},x)),a>=0&&e.jsx("span",{children:`所有${d[a]?.text}`})]})]}),m&&e.jsx(fe,{}),!l&&e.jsxs("p",{children:["时间范围：",s?r:o?.text]})]})]})},Xe=React.forwardRef((t,n)=>{const a=Number(localStorage.getItem(B)??z()),s=a?ee.slice(a):ee,{run:r,noNeedTime:o=!1,noNeedAddress:l=!1}=t,[c,d]=React.useState(J[0]?.label),[i,m]=X({start:D(),end:D()}),[p,x]=X(G(s.map(u=>[u.label,null]))),[_,j]=X(G(s.map(u=>[u.label,[]])));he(()=>ReactDOM.unstable_batchedUpdates(()=>{$e({level:a,orgId:V(P)}).then(u=>{const h=s[0]?.label;u&&h&&j({[h]:u})})}));const g=s.findIndex(u=>!p[u.label]),y=J.find(u=>u.label===c),T=y?.label===Je,f=Ke(i.start,i.end),[R,w]=React.useState(!1),ae=React.useCallback(u=>ReactDOM.unstable_batchedUpdates(()=>{x(G(s.filter((h,b)=>b>u).map(h=>[h.label,null]))),w(!0)}),[]),se={address:p,hasDataIndex:g,isCustomTime:T,customTimeFormat:f,f:y,noNeedAddress:l,noNeedTime:o,unitName:s,setBreadcrumbsAddress:ae},[ot,re]=React.useState(!1),[_e,lt]=React.useState(se);return React.useEffect(()=>ReactDOM.unstable_batchedUpdates(()=>{R&&(r({...!o&&{date:T?f:y?.value},orgId:[ne().orgId,...s.filter(u=>p[u.label]).map(u=>p[u.label]?.regionId)].join("."),level:g<0?ee.length-1:g}),lt(se),re(!1),w(!1))}),[R]),React.useImperativeHandle(n,()=>({toDown:u=>ReactDOM.unstable_batchedUpdates(()=>{if(!u)return;const{regionName:h,regionId:b}=u,k=s[g]?.label;k&&(x({[k]:{regionId:b,regionName:h}}),w(!0))})})),e.jsxs(React.StrictMode,{children:[e.jsxs("div",{className:v.CurrentFilterShow,children:[!l&&e.jsx(ge,{variant:"contained",size:"large",onClick:re.bind(null,!0),children:"筛选器"}),!!_e.hasDataIndex&&e.jsxs(gt,{variant:"extended",color:"primary",onClick:()=>ReactDOM.unstable_batchedUpdates(()=>{const u=g>-1?g-1:s.length-1,h=s[u]?.label;h&&(x({[h]:null}),w(!0))}),children:[e.jsx(ft,{}),"返回上级"]}),e.jsx(Le,{..._e})]}),e.jsxs(Ue,{open:ot,fullScreen:!0,children:[e.jsxs(Ee,{className:v.AppBar??"",position:"sticky",children:[e.jsx(Fe,{size:"large",className:v.menuIcon??"",onClick:re.bind(null,!1),children:e.jsx(jt,{})}),e.jsx(oe,{children:"筛选器"}),e.jsx(Z,{autoFocus:!0,variant:"contained",color:"success",endIcon:e.jsx(St,{}),onClick:()=>{w(!0)},children:"确定"})]}),e.jsx(Le,{...se}),!l&&e.jsxs(we,{defaultExpanded:!0,elevation:24,children:[e.jsx(Ne,{expandIcon:e.jsx(ie,{}),className:v.AccordionSummary??"",children:e.jsx(oe,{children:"地理范围筛选"})}),e.jsx(Oe,{className:v.AccordionDetails??"",children:s.map((u,h)=>{if(g>=0&&h>g)return e.jsx(e.Fragment,{});const{label:b}=u,k=_[b];if(!k)return e.jsx(e.Fragment,{});const Re=wn(k,u.text),Te=!k.length;return e.jsx(vt,{disablePortal:!0,autoSelect:!0,autoComplete:!0,autoFocus:!0,autoHighlight:!0,loading:Te,options:Re,getOptionLabel:N=>N?.regionName??"",isOptionEqualToValue:(N,O)=>N.regionId===O.regionId,onChange:(N,O)=>ReactDOM.unstable_batchedUpdates(()=>{x(G(s.filter((L,W)=>W>=h).map(L=>[L.label,null])));const Q=O?.regionId;x({[b]:O}),h!==s.length-1&&Q&&$e({level:a+h+1,orgId:Q}).then(L=>{const W=s[h+1]?.label;L&&W&&j({[W]:L})})}),value:p[b]??Re[0]??null,renderInput:({size:N,InputProps:O,...Q})=>e.jsx(Y,{...N&&{size:N},...Q,InputProps:{...O,endAdornment:e.jsxs(React.StrictMode,{children:[Te?e.jsx(Ve,{}):null,O.endAdornment]})},label:`请选择${u.text}`}),noOptionsText:"无此选项"},h)})})]}),!o&&e.jsxs(we,{defaultExpanded:!0,elevation:24,children:[e.jsx(Ne,{expandIcon:e.jsx(ie,{}),className:v.AccordionSummary??"",children:e.jsx(oe,{children:"时间范围筛选"})}),e.jsxs(Oe,{children:[e.jsx(yt,{color:"primary",value:c,exclusive:!0,onChange:(u,h)=>{d(b=>h??b)},className:v.ToggleButtonGroup??"",children:J.map((u,h)=>e.jsx(bt,{value:u.label,children:u.text},h))}),e.jsx(ze,{in:c===J[2]?.label,children:e.jsxs("div",{className:classNames(v.date,{}),children:[e.jsxs("label",{children:["开始日期：",e.jsx("input",{type:"date",value:i.start,onChange:u=>{const{value:h}=u.target;m({start:h})},max:i.end})]}),e.jsxs("label",{children:["结束日期：",e.jsx("input",{type:"date",value:i.end,onChange:u=>{const{value:h}=u.target;m({start:new Date(h).getTime()<new Date(i.start).getTime()?h:i.start,end:h})},max:D()})]})]})})]})]})]})]})}),I="regionName";function Ye(t){const{columns:n,action:a,noNeedTime:s,noNeedAddress:r}=t,[o,l]=React.useState(0),[c,d]=React.useState(10),{data:i=[],loading:m,run:p}=xe(a,be),x=React.useRef(null),_=React.useRef(null);return e.jsx(React.StrictMode,{children:e.jsx(je,{injectFirst:!0,children:e.jsxs(Qe,{className:classNames(le.root),elevation:24,children:[e.jsx(Xe,{ref:_,run:p,noNeedTime:s,noNeedAddress:r}),e.jsx(Rt,{children:e.jsxs(Tt,{stickyHeader:!0,children:[e.jsx(wt,{ref:x,children:e.jsx(Ae,{children:n.map((j,g)=>e.jsx(ke,{align:"center",children:j.text},g))})}),e.jsx(Nt,{children:i.slice(o*c,o*c+c).map((j,g)=>e.jsx(Ae,{hover:!0,children:m?e.jsx("td",{colspan:n.length,className:le.Skeleton??"",style:{"--height":`${x.current?.clientHeight}px`},children:e.jsx(Ot,{variant:"rounded",animation:"wave"})}):n.map((y,T)=>{const f=y?.label,R=j?.[f];return e.jsx(ke,{align:"center",...I===f&&T===0&&Number(j.level)!==ee.length-1&&{onClick:()=>{_.current?.toDown({regionId:"0",[I]:"A市"})},className:le.aLink??""},children:y.format&&typeof R=="number"?y.format(R):String(R)},T)})},g))})]})}),e.jsx(It,{component:"div",count:i.length,rowsPerPage:c,page:o,onPageChange:(j,g)=>{l(g)},onRowsPerPageChange:j=>ReactDOM.unstable_batchedUpdates(()=>{d(+j.target.value),l(0)}),labelDisplayedRows:j=>`${j.from}-${j.to}/共${j.count}项`,labelRowsPerPage:"每页行数："})]})})})}const Nn=[..." ".repeat(4).split(" ").map((t,n)=>`${n*1e3}-${n*1e3+1e3}元`),"5000元以上"];function On(){return e.jsx(React.StrictMode,{children:e.jsx(Ye,{columns:[{label:"price",text:"机型价位段"},{label:"salesVolume",text:"销量"},{label:"proportion",format:t=>`${t.toLocaleString()}%`,text:"占比"}],action:t=>Pn(t).then(n=>n?[...n,{price:"合计",salesVolume:n.reduce((a,s)=>a+s.salesVolume,0),proportion:100}]:[])})})}var te=(t=>(t.SnackbarAlert="SnackbarAlert",t.OPENTRUE="OPENTRUE",t.OPENFALSE="OPENFALSE",t))(te||{}),$=(t=>(t.alertText="alertText",t.open="open",t.severity="severity",t))($||{}),de=(t=>(t.error="error",t.info="info",t.success="success",t.warning="warning",t))(de||{});const In={alertText:"",open:!1,severity:"success"},An=(t=In,n)=>{const{type:a,payload:s={}}=n,r=o=>({...t,...s,open:o});switch(a){case"OPENFALSE":return r(!1);case"OPENTRUE":return r(!0);default:return t}},kn=ReactRedux.useSelector,me="uuid",K=(t,n)=>{U[t]=n,localStorage.setItem(t,n)},Cn=({adminId:t,password:n,scode:a})=>s=>axios.post("/api/user/login",null,{params:{adminId:t,password:n,scode:a,uuid:sessionStorage.getItem(me)}}).then(r=>{const{code:o,info:l,data:c}=r.data??{};return r.status===200&&o===ve?(s({type:te.OPENTRUE,payload:{[$.alertText]:"登录成功",[$.severity]:de.success}}),K(F,c),K(E,t),K(B,z(c)),K(P,V(P,c)),!0):Promise.reject(l)}).catch(r=>{s({type:te.OPENTRUE,payload:{[$.alertText]:String(r),[$.severity]:de.error}})}),Mn=()=>axios.get("/api/scode/",{params:{[me]:(()=>{const t=uuid.v4().replaceAll("-","");return sessionStorage.setItem(me,t),t})()}}).then(t=>t?.data?.data).catch(console.error),ne=()=>({[B]:Number(z())||0,orgId:V(P)||"HB"}),$e=(t=ne())=>axios.get("/api/sale/subregion",{params:t}).then(n=>n.data.data).catch(console.error),Pn=(t={})=>axios.get("/api/SalesVolumeMonitoring/SalesStructureOfTerminalPriceRanges",{params:t}).then(n=>n.data.data.salesRecordMap).then(n=>Nn.map(a=>({price:a,salesVolume:n[a]?.salesNum??0,proportion:n[a]?.ratio??0}))).catch(console.error),Bn=()=>axios.get("/api/sell").then(t=>t.data.code===ve).catch(console.error),Ln=({type:t,...n}={...ne()})=>axios.get(`/api/sale/contract/${t}`,{params:{...n}}).then(a=>Object.entries(a.data.data).map(s=>({value:s[1],name:s[0]}))).catch(console.error),$n=({type:t,...n}={...ne()})=>axios.get(`/api/sale/topPhone/${t}`,{params:{...n}}).then(a=>a.data.data.phoneInfoRank).then(a=>Object.keys(a).map((s,r)=>{const o=a[r+1];return o?{...o,index:String(s)}:{phoneType:"",salesNum:0,rate:0,priceLevel:"",index:"0"}})).then(a=>a.filter(s=>!!s.salesNum)).catch(console.error),Dn="_NavLink_mi57p_1",En="_CollapseClick_mi57p_9",Fn="_ArrowDownIcon_mi57p_12",Un="_overview_mi57p_16",Vn="_ListItemButton_mi57p_20",M={NavLink:Dn,CollapseClick:En,ArrowDownIcon:Fn,overview:Un,ListItemButton:Vn},Ze=({className:t,...n})=>e.jsx(Ct,{className:classNames(t,M.ListItemButton),...n}),et=t=>{const{text:n="",path:a="",setOpen:s,...r}=t,[o,l]=React.useState(!1),[c,d]=React.useState(!0),i=ReactRedux.useDispatch();return e.jsx(Ze,{selected:o,disableGutters:!0,...r,children:e.jsx(zt,{to:a,className:({isActive:m})=>ReactDOM.unstable_batchedUpdates(()=>(l(m),m&&c&&s?.(),d(!1),M.NavLink)),onClick:()=>{i({type:qe.SET_TITLE,payload:{title:n}})},children:e.jsx(We,{primary:n})})})},zn=({item:t})=>{const{children:n,id:a,path:s=""}=t,[r,o]=React.useState(!1);return e.jsxs(React.StrictMode,{children:[e.jsxs(Ze,{onClick:o.bind(null,!r),className:classNames(M.CollapseClick,{[M.CollapseClickActive??""]:r}),children:[e.jsx(We,{primary:a}),e.jsx(ie,{className:classNames({[M.ArrowDownIcon??""]:r})})]}),e.jsx(ze,{in:r,children:e.jsx("ul",{children:n?.map((l,c)=>e.jsx("li",{children:e.jsx(et,{text:l.id??"",path:ye(s,l.path??""),setOpen:o.bind(null,!0)})},c))})})]})};function Qn(t){const{menuOpen:n,menuOpenFalse:a,...s}=t;return e.jsx(React.StrictMode,{children:e.jsx(je,{injectFirst:!0,children:e.jsx(At,{anchor:"left",open:n,onClose:a,...s,children:at.map((r,o)=>{const{children:l,id:c="",path:d=""}=r;return e.jsxs(React.StrictMode,{children:[e.jsx(kt,{children:l?e.jsx(zn,{item:r}):e.jsx(et,{text:c,path:ye(d),className:M.overview??""})},o),e.jsx(fe,{})]})})})})})}function Wn(){Se(),he(()=>{});const[t,n]=React.useState(!1);return e.jsxs(React.StrictMode,{children:[e.jsx(Rn,{menuOpenTrue:n.bind(null,!0)}),e.jsx(Qn,{menuOpen:t,menuOpenFalse:n.bind(null,!1)}),e.jsx(He,{})]})}const Hn="_loginBody_1iyc9_1",qn="_input_1iyc9_19",tt={loginBody:Hn,input:qn},Gn={className:tt.input??"",variant:"outlined"};function Jn(){const t=Se(),n=ReactRedux.useDispatch(),[a,s]=X({adminId:"1038762",password:"666666",scode:""}),[r,o]=React.useState(!1),{adminId:l,password:c,scode:d}=a,i=/^[A-Z]\d{6}$/.test(l),m=/^\w{6,20}$/.test(c),p=/^\w{5}$/.test(d),x=(f="",R=!0,w="",ae="")=>({...Gn,...r?f?R?{}:{error:!0,helperText:ae}:{error:!0,helperText:w}:{}});ct(()=>{o(!1)},[i,m,p]);const[_,j]=React.useState(""),g=()=>Mn().then(f=>j(f??""));React.useEffect(()=>{g()},[]);const{run:y,loading:T}=xe(()=>Cn(a)(n).then(f=>f?t("/"):g()).catch(console.error),{...be,manual:!0});return e.jsx(React.StrictMode,{children:e.jsx("div",{className:tt.loginBody,children:e.jsxs("div",{children:[e.jsx("h3",{children:"移动监控面板"}),e.jsx(Y,{label:"账号",onChange:f=>s({adminId:f.target.value}),...x(l,i,"请输入账号","账号格式不正确"),autoFocus:!0,autocomplete:!0,maxlength:7,pattern:/^\d{7}$/}),e.jsx(Y,{label:"密码",type:"password",onChange:f=>s({password:f.target.value}),...x(c,m,"请输入密码","密码格式不正确"),maxlength:20,autocomplete:!0,pattern:/^\w{6,20}$/}),e.jsx("img",{src:`data:image/jpeg;base64,${_}`,alt:"No Network",onClick:()=>g()}),e.jsx(Y,{label:"验证码",onChange:f=>s({scode:f.target.value}),...x(d,p,"请输入验证码","验证码格式不正确"),maxlength:5,autocomplete:!0,pattern:/^\w{5}$/}),e.jsx(Mt,{variant:"contained",size:"large",loading:T,onClick:()=>{o(!0),!(!i||!m||!p)&&y()},children:"登录"})]})})})}function Kn(){return he(()=>{Bn().then(t=>{})}),e.jsx(React.StrictMode,{children:e.jsx(He,{})})}function Xn({dom:t,option:n,data:a}){try{const s=echarts.getInstanceByDom(t)??echarts.init(t);return s.setOption({animation:!0,animationDuration:1500,animationEasingUpdate:"quinticInOut",tooltip:{},legend:{},...n,series:{type:"pie",radius:["40%","70%"],itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!0},...n?.series,data:a}}),s}catch{return}}const Yn="_echarts_kd7ge_1",Zn="_loading_kd7ge_6",ea="_noLoading_kd7ge_16",pe={echarts:Yn,loading:Zn,noLoading:ea},{freeze:ta}=Object,ce=ta([{type:"day",label:"日销量"},{type:"month",label:"月销量"},{type:"year",label:"年销量"}]),na=t=>{const{data:n}=t,a=React.useRef(null),{current:s}=a;return React.useEffect(()=>{setTimeout(()=>{if((s||a.current)&&n)try{Xn({dom:s??a.current??document.createElement("div"),data:n})}catch{}})},[s,n]),e.jsx("div",{ref:a,className:classNames(pe.echarts),...s&&{style:{"--offsetTop":`${s?.offsetTop}px`}}})};function aa(){const[t,n]=React.useState("0"),a=ce[Number(t)]?.type??"",{data:s,loading:r,run:o}=xe(d=>Ln({...d,type:a}),{...be,refreshDeps:[a]}),l=r||!s,c=React.useRef(null);return e.jsxs(React.StrictMode,{children:[e.jsx(Xe,{ref:c,noNeedTime:!0,run:d=>o({...d,type:a})}),e.jsxs(Pt,{value:t,children:[e.jsx(Bt,{centered:!0,value:t,onChange:(d,i)=>{n(i.toString())},children:ce.map((d,i)=>e.jsx(Lt,{value:i.toString(),label:d.label},i))}),e.jsx(fe,{}),ce.map((d,i)=>e.jsx($t,{value:i.toString(),className:classNames(l?pe.loading:pe.noLoading),children:e.jsx(React.StrictMode,{children:r?e.jsx(Ve,{}):e.jsx(na,{data:s})})},i))]})]})}function sa(){return e.jsx(React.StrictMode,{children:e.jsx(Ye,{columns:[{label:"index",text:"销量排名"},{label:"phoneType",text:"机型名称"},{label:"salesNum",text:"销量"},{label:"rate",text:"占比",format:t=>`${t.toLocaleString()}%`},{label:"priceLevel",text:"价格段"}],action:t=>$n(t).then(n=>n?[...n,{index:"",phoneType:"合计",salesNum:n.filter(a=>!!a).reduce((a,s)=>a+s?.salesNum,0),rate:100,priceLevel:""}]:[])})})}function ra(){return e.jsx(React.StrictMode,{})}function oa(){return e.jsx(React.StrictMode,{})}function la(){return e.jsx(React.StrictMode,{})}function ca(){return e.jsx(React.StrictMode,{})}function ia(){return e.jsx(React.StrictMode,{})}var nt=(t=>(t.login="login",t.auth="auth",t.overview="overview",t.SalesVolumeMonitoring="SalesVolumeMonitoring",t.DistributionOfTerminalSales="DistributionOfTerminalSales",t.TerminalActivitySalesStructure="TerminalActivitySalesStructure",t.SalesStructureOfTerminalPriceRanges="SalesStructureOfTerminalPriceRanges",t.TOP10ModelInformation="TOP10ModelInformation",t.QualityOfTerminalSalesInThePanAlliance="QualityOfTerminalSalesInThePanAlliance",t.SalesSituationOfTerminalSubChannels="SalesSituationOfTerminalSubChannel",t.PurchaseQuantityMonitoring="PurchaseQuantityMonitoring",t.OrderQuantityOfMobileTerminals="OrderQuantityOfMobileTerminals",t.InventoryMonitoring="InventoryMonitoring",t.InventoryQuantity="InventoryQuantity",t.InventoryStructure="InventoryStructure",t))(nt||{});const ua=React.lazy(()=>qt(()=>import("./index-bSS_yH7X.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]),import.meta.url)),at=[{path:"",id:"总览",element:e.jsx(Kn,{})},{path:"SalesVolumeMonitoring",id:"终端销量分布",children:[{path:"DistributionOfTerminalSales",id:"终端销量分布",element:e.jsx(React.Suspense,{fallback:e.jsx(e.Fragment,{}),children:e.jsx(ua,{})})},{path:"TerminalActivitySalesStructure",id:"终端活动销售结构",element:e.jsx(aa,{})},{path:"SalesStructureOfTerminalPriceRanges",id:"终端各价位段销售结构",element:e.jsx(On,{})},{path:"TOP10ModelInformation",id:"TOP10机型信息",element:e.jsx(sa,{})},{path:"QualityOfTerminalSalesInThePanAlliance",id:"泛全联盟终端销售质量",element:e.jsx(ra,{})},{path:"SalesSituationOfTerminalSubChannel",id:"终端分渠道销售情况",element:e.jsx(oa,{})}]},{path:"PurchaseQuantityMonitoring",id:"进货量监控",children:[{path:"OrderQuantityOfMobileTerminals",id:"手机终端订货数量",element:e.jsx(la,{})}]},{path:"InventoryMonitoring",id:"库存量监控",children:[{path:"InventoryQuantity",id:"库存数量",element:e.jsx(ca,{})},{path:"InventoryStructure",id:"库存结构",element:e.jsx(ia,{})}]}],ye=(...t)=>`/${t.join("/")}`;function da(){return e.jsxs(Vt,{children:[e.jsx(H,{path:"login",element:e.jsx(Jn,{})}),e.jsx(H,{path:"/",element:e.jsx(Wn,{}),children:at.map((t,n)=>e.jsx(H,{path:t.path??"",element:t.element,children:t.children?.map((a,s)=>e.jsx(H,{path:a.path??"",element:a.element},s))},n))})]})}const ma=Redux.combineReducers({SnackBar:An,AppBarTitle:jn}),st=Redux.legacy_createStore(ma,Redux.applyMiddleware(ReduxThunk));st.subscribe(()=>{});const pa="_Snackbar_1t4e7_1",ha={Snackbar:pa};function xa(){const{open:t,alertText:n,severity:a}=kn(o=>({open:o.SnackBar.open,alertText:o.SnackBar.alertText,severity:o.SnackBar.severity})),s=ReactRedux.useDispatch(),r=(o,l)=>{l!=="clickaway"&&s({type:te.OPENFALSE})};return e.jsx(React.StrictMode,{children:e.jsx(Dt,{open:!!(t&&n),autoHideDuration:6e3,onClose:r,message:n,className:ha.Snackbar??"",children:e.jsx(Et,{onClose:r,severity:a,variant:"filled",children:n})})})}const be={loadingDelay:300,throttleWait:300};function ga(){return e.jsx(React.StrictMode,{children:e.jsx(je,{injectFirst:!0,children:e.jsxs(Ft,{children:[e.jsx(Ut,{}),e.jsx(ReactRedux.Provider,{store:st,children:e.jsxs(React.StrictMode,{children:[e.jsx(Qt,{children:e.jsx(da,{})}),e.jsx(xa,{})]})})]})})})}const fa=!!(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)),De=(window.process?.env?.PUBLIC_URL??"./").replace("/",""),ja=window.process?.env?.NODE_ENV??"production";function Sa(t){ja==="production"&&"serviceWorker"in navigator,new URL(De,window.location.href).origin===window.location.origin&&window.addEventListener("load",()=>{const a=`${De}/service-worker.js`;fa?(va(a,t),navigator.serviceWorker.ready.then(()=>{})):rt(a,t)})}function rt(t,n){navigator.serviceWorker.register(t).then(a=>{a.onupdatefound=()=>{const s=a.installing;s!=null&&(s.onstatechange=()=>{s.state==="installed"&&(navigator.serviceWorker.controller?n&&n.onUpdate&&n.onUpdate(a):n&&n.onSuccess&&n.onSuccess(a))})}}).catch(a=>{})}function va(t,n){fetch(t,{headers:{"Service-Worker":"script"}}).then(a=>{const s=a.headers.get("content-type");a.status===404||s!=null&&s.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(r=>{r.unregister().then(()=>{window.location.reload()})}):rt(t,n)}).catch(()=>{})}const{random:S}=Math;Mock.mock(/\/api\/sale\/subregion.*/,"get",{code:1e3,"data|1-50":[{regionName:"@city",daySalesNum:~~(S()*10),monthSalesNum:~~(S()*100),monthRelativeRate:(S()-.5)*10,yearSalesNum:~~(S()*1e3),level:1}]});Mock.mock(/\/api\/SalesVolumeMonitoring\/TerminalActivitySalesStructure\?.*type=year.*/,"get",{code:1e3,data:[{value:~~(S()*1e3),name:"顺差让利"},{value:~~(S()*1e3),name:"分期合约"},{value:~~(S()*1e3),name:"金币合约"}]});Mock.mock(/\/api\/SalesVolumeMonitoring\/TerminalActivitySalesStructure\?.*type=month.*/,"get",{code:1e3,data:[{value:~~(S()*100),name:"顺差让利"},{value:~~(S()*100),name:"分期合约"},{value:~~(S()*100),name:"金币合约"}]});Mock.mock(/\/api\/SalesVolumeMonitoring\/TerminalActivitySalesStructure\?.*type=day.*/,"get",{code:1e3,data:[{value:~~(S()*10),name:"顺差让利"},{value:~~(S()*10),name:"分期合约"},{value:~~(S()*10),name:"金币合约"}]});const ya=()=>" ".repeat(25).split(" ").map((t,n)=>({label:String.fromCharCode(n+65),id:n}));Mock.mock(/\/api\/getAddressList.*/,"get",{code:1e3,data:ya()});ReactDOM.render(e.jsx(React.StrictMode,{children:e.jsx(ga,{})}),document.body);Sa();export{Ye as M,$e as g,I as r};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./index-bSS_yH7X.js","./react-ejZHSj7z.js","./object-assign-4_VUvG2Z.js","./ahooks-3lX5GaIi.js","./tslib-g6pQwBLH.js","./lodash-liWoq_f8.js","./@babel-moqvDIRK.js","./@mui-s8DGxEp2.js","./@emotion-tNa4IMmz.js","./hoist-non-react-statics-o0ngdJFr.js","./stylis-UTZzoVRx.js","./clsx-2Jv0kmJG.js","./@popperjs-v-la0Vhf.js","./react-router-GnPFSUwy.js","./@remix-run-Tfa50bkj.js","./react-router-dom-kzRaAek2.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
