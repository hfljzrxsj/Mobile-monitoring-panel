import{R as T,u as U,a as x,D as j,N,b as A,c as F}from"./react-router-GnPFSUwy.js";import{c as W,s as _,d as S}from"./@remix-run-Tfa50bkj.js";/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},w.apply(this,arguments)}function E(e,t){if(e==null)return{};var o={},n=Object.keys(e),i,r;for(r=0;r<n.length;r++)i=n[r],!(t.indexOf(i)>=0)&&(o[i]=e[i]);return o}function H(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function K(e,t){return e.button===0&&(!t||t==="_self")&&!H(e)}const B=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],I=["aria-current","caseSensitive","className","end","style","to","children"],D="startTransition",b=React[D];function Q(e){let{basename:t,children:o,future:n,window:i}=e,r=React.useRef();r.current==null&&(r.current=W({window:i,v5Compat:!0}));let l=r.current,[u,c]=React.useState({action:l.action,location:l.location}),{v7_startTransition:a}=n||{},f=React.useCallback(d=>{a&&b?b(()=>c(d)):c(d)},[c,a]);return React.useLayoutEffect(()=>l.listen(f),[l,f]),React.createElement(T,{basename:t,children:o,location:u.location,navigationType:u.action,navigator:l})}const z=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,M=React.forwardRef(function(t,o){let{onClick:n,relative:i,reloadDocument:r,replace:l,state:u,target:c,to:a,preventScrollReset:f}=t,d=E(t,B),{basename:C}=React.useContext(N),R,g=!1;if(typeof a=="string"&&G.test(a)&&(R=a,z))try{let s=new URL(window.location.href),m=a.startsWith("//")?new URL(s.protocol+a):new URL(a),y=_(m.pathname,C);m.origin===s.origin&&y!=null?a=y+m.search+m.hash:g=!0}catch{}let h=A(a,{relative:i}),v=X(a,{replace:l,state:u,target:c,preventScrollReset:f,relative:i});function p(s){n&&n(s),s.defaultPrevented||v(s)}return React.createElement("a",w({},d,{href:R||h,onClick:g||r?n:p,ref:o,target:c}))}),V=React.forwardRef(function(t,o){let{"aria-current":n="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:c,children:a}=t,f=E(t,I),d=U(c,{relative:f.relative}),C=x(),R=React.useContext(j),{navigator:g}=React.useContext(N),h=g.encodeLocation?g.encodeLocation(d).pathname:d.pathname,v=C.pathname,p=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;i||(v=v.toLowerCase(),p=p?p.toLowerCase():null,h=h.toLowerCase());let s=v===h||!l&&v.startsWith(h)&&v.charAt(h.length)==="/",m=p!=null&&(p===h||!l&&p.startsWith(h)&&p.charAt(h.length)==="/"),y=s?n:void 0,L;typeof r=="function"?L=r({isActive:s,isPending:m}):L=[r,s?"active":null,m?"pending":null].filter(Boolean).join(" ");let O=typeof u=="function"?u({isActive:s,isPending:m}):u;return React.createElement(M,w({},f,{"aria-current":y,className:L,ref:o,style:O,to:c}),typeof a=="function"?a({isActive:s,isPending:m}):a)});var P;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})(P||(P={}));var k;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(k||(k={}));function X(e,t){let{target:o,replace:n,state:i,preventScrollReset:r,relative:l}=t===void 0?{}:t,u=F(),c=x(),a=U(e,{relative:l});return React.useCallback(f=>{if(K(f,o)){f.preventDefault();let d=n!==void 0?n:S(c)===S(a);u(e,{replace:d,state:i,preventScrollReset:r,relative:l})}},[c,u,a,n,i,o,e,r,l])}export{Q as H,V as N};
