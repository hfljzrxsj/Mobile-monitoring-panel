import{j as e}from"./react-ejZHSj7z.js";import{u as he,a as X,b as rt,c as xe}from"./ahooks-4-ioGHV5.js";import{c as ge,O as $e,d as ot,e as q}from"./react-router-GnPFSUwy.js";import{A as Le,I as Ee,d as lt,B as fe,a as ct,b as it,P as ut,c as dt,D as Fe,e as mt,f as pt,S as je,g as ht,L as xt,h as Se,i as Ue,j as ce,C as Ve,k as gt,T as Y,l as ft,F as jt,m as St,n as yt,o as re,p as bt,q as Ne,r as Ie,s as Oe,t as vt,u as ze,v as _t,w as Rt,x as Qe,y as Tt,z as we,E as At,G as Nt,H as It,J as Ce,K as ke,M as Ot,N as wt,O as Ct,Q as kt,R as Mt,U as Pt,V as Bt,W as Dt,X as $t,Y as Lt,Z as Et}from"./@mui-_mSVHQqc.js";import{N as Ft,H as Ut}from"./react-router-dom-kzRaAek2.js";import"./object-assign-4_VUvG2Z.js";import"./tslib-g6pQwBLH.js";import"./lodash-liWoq_f8.js";import"./@babel-moqvDIRK.js";import"./@remix-run-Tfa50bkj.js";import"./@emotion-tNa4IMmz.js";import"./hoist-non-react-statics-o0ngdJFr.js";import"./stylis-UTZzoVRx.js";import"./clsx-2Jv0kmJG.js";import"./@popperjs-v-la0Vhf.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var te=(t=>(t.SnackbarAlert="SnackbarAlert",t.OPENTRUE="OPENTRUE",t.OPENFALSE="OPENFALSE",t))(te||{}),$=(t=>(t.alertText="alertText",t.open="open",t.severity="severity",t))($||{}),ie=(t=>(t.error="error",t.info="info",t.success="success",t.warning="warning",t))(ie||{});const Vt={alertText:"",open:!1,severity:"success"},zt=(t=Vt,a)=>{const{type:s,payload:n={}}=a,r=o=>({...t,...n,open:o});switch(s){case"OPENFALSE":return r(!1);case"OPENTRUE":return r(!0);default:return t}},Qt=ReactRedux.useSelector,ye=1e3,E="adminId",F="Authorization",P="orgId",w=axios.defaults,{common:U}=w.headers,Ht=axios.CancelToken.source();w.baseURL="http://121.196.247.3";w.withCredentials=!1;U[F]??=localStorage.getItem(F)??"";U[E]??=localStorage.getItem(E)??"";const V=(t,a)=>{try{const s=localStorage.getItem(F)??a;return s?String(JSON.parse(atob(s.split(".")?.[1]??""))?.[t]):""}catch{return""}},B="level",z=t=>V(B,t);U[B]??=z();U[P]??=V(P);const qt=new AbortController;w.signal=qt.signal;w.cancelToken=Ht.token;const Me=window.caches,{adapter:G}=w,ue=t=>{try{return JSON.stringify(t)}catch{return""}},Gt=({url:t,headers:a,params:s,data:n})=>[t,a?.[F],a?.[E],a?.[B],ue(s),ue(n)].join("_");G&&typeof G=="function"&&(w.adapter=async t=>{if(!Me)return G(t);const{url:a="",headers:s={},params:n,data:r}=t,o=Gt({url:a,headers:s,params:n,data:r}),l=await Me?.open(a),u=await l?.match(o);if(u)return await u.json();const d=await G(t),{status:i,data:h}=d;return i===200&&typeof h=="string"&&h.includes(String(ye))&&await l?.put(o,new Response(ue(d))),d});axios.interceptors.request.use(async t=>t,t=>Promise.reject(t));axios.interceptors.response.use(async t=>t,async t=>Promise.reject(t));const de="uuid",J=(t,a)=>{U[t]=a,localStorage.setItem(t,a)},Jt=({adminId:t,password:a,scode:s})=>n=>axios.post("/api/user/login",null,{params:{adminId:t,password:a,scode:s,uuid:sessionStorage.getItem(de)}}).then(r=>{const{code:o,info:l,data:u}=r.data??{};return r.status===200&&o===ye?(n({type:te.OPENTRUE,payload:{[$.alertText]:"登录成功",[$.severity]:ie.success}}),J(F,u),J(E,t),J(B,z(u)),J(P,V(P,u)),!0):Promise.reject(l)}).catch(r=>{n({type:te.OPENTRUE,payload:{[$.alertText]:String(r),[$.severity]:ie.error}})}),Wt=()=>axios.get("/api/scode/",{params:{[de]:(()=>{const t=uuid.v4().replaceAll("-","");return sessionStorage.setItem(de,t),t})()}}).then(t=>t?.data?.data).catch(console.error),be=()=>({[B]:Number(z())||0,regionId:V(P)||"HB"}),me=(t=be())=>axios.get("/api/sale/subregion",{params:t}).then(a=>a.data.data).catch(console.error),Kt=(t={})=>axios.get("/api/SalesVolumeMonitoring/SalesStructureOfTerminalPriceRanges",{params:t}).then(a=>a.data.data).catch(console.error),Xt=()=>axios.get("/api/sell").then(t=>t.data.code===ye).catch(console.error),Yt=(t={...be()})=>axios.get("/api/SalesVolumeMonitoring/TerminalActivitySalesStructure",{params:t}).then(a=>a.data.data).catch(console.error),Zt="_AppBar_z9nlw_1",ea="_menuIcon_z9nlw_11",ta="_Avatar_z9nlw_19",aa="_open_z9nlw_27",na="_Popover_z9nlw_39",sa="_DialogActions_z9nlw_49",k={AppBar:Zt,menuIcon:ea,Avatar:ta,open:aa,Popover:na,DialogActions:sa};var He=(t=>(t.SET_TITLE="SET_TITLE",t))(He||{}),qe=(t=>(t.title="title",t))(qe||{});const ra={title:""},oa=(t=ra,a)=>{const{type:s,payload:n={}}=a;switch(s){case"SET_TITLE":return{...t,...n};default:return t}},la=ReactRedux.useSelector,Z=({...t})=>e.jsx(fe,{variant:"contained",size:"large",...t}),ca=()=>window.caches?.keys()?.then(t=>t.forEach(a=>window.caches?.delete(a))).catch(console.error);function ia(t){const{menuOpenTrue:a,...s}=t,n=la(p=>p.AppBarTitle[qe.title]),[r,o]=React.useState(null),[l,u]=React.useState(!1),d=()=>{u(!1)},i=!!r,h=ge();return e.jsxs(React.StrictMode,{children:[e.jsxs(Le,{position:"sticky",className:k.AppBar??"",...s,children:[e.jsx(Ee,{onClick:a,className:k.menuIcon??"",size:"large",children:e.jsx(lt,{})}),e.jsx("span",{children:n}),e.jsxs(fe,{className:classNames(k.Avatar,{[k.open??""]:i}),onClick:p=>{o(p.currentTarget)},children:[e.jsx(ct,{}),e.jsx("span",{children:localStorage.getItem(E)}),e.jsx(it,{})]})]}),e.jsxs(ut,{anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},open:i,onClose:()=>{o(null)},className:k.Popover??"",children:[e.jsxs("p",{children:["用户等级：",e.jsx("span",{children:z()})]}),e.jsx(Z,{onClick:()=>ReactDOM.unstable_batchedUpdates(()=>{o(null),u(!0)}),startIcon:e.jsx(dt,{}),children:"退出登录"})]}),e.jsxs(Fe,{open:l,keepMounted:!0,onClose:d,children:[e.jsx(mt,{children:"确定要退出登录吗？"}),e.jsxs(pt,{className:k.DialogActions??"",children:[e.jsx(Z,{onClick:()=>{ca(),localStorage.clear(),h(ve(et.login))},children:"确定"}),e.jsx(Z,{onClick:d,children:"取消"})]})]})]})}const ua="_NavLink_mi57p_1",da="_CollapseClick_mi57p_9",ma="_ArrowDownIcon_mi57p_12",pa="_overview_mi57p_16",ha="_ListItemButton_mi57p_20",M={NavLink:ua,CollapseClick:da,ArrowDownIcon:ma,overview:pa,ListItemButton:ha},Ge=({className:t,...a})=>e.jsx(gt,{className:classNames(t,M.ListItemButton),...a}),Je=t=>{const{text:a="",path:s="",setOpen:n,...r}=t,[o,l]=React.useState(!1),[u,d]=React.useState(!0),i=ReactRedux.useDispatch();return e.jsx(Ge,{selected:o,disableGutters:!0,...r,children:e.jsx(Ft,{to:s,className:({isActive:h})=>ReactDOM.unstable_batchedUpdates(()=>(l(h),h&&u&&n?.(),d(!1),M.NavLink)),onClick:()=>{i({type:He.SET_TITLE,payload:{title:a}})},children:e.jsx(Ue,{primary:a})})})},xa=({item:t})=>{const{children:a,id:s,path:n=""}=t,[r,o]=React.useState(!1);return e.jsxs(React.StrictMode,{children:[e.jsxs(Ge,{onClick:o.bind(null,!r),className:classNames(M.CollapseClick,{[M.CollapseClickActive??""]:r}),children:[e.jsx(Ue,{primary:s}),e.jsx(ce,{className:classNames({[M.ArrowDownIcon??""]:r})})]}),e.jsx(Ve,{in:r,children:e.jsx("ul",{children:a?.map((l,u)=>e.jsx("li",{children:e.jsx(Je,{text:l.id??"",path:ve(n,l.path??""),setOpen:o.bind(null,!0)})},u))})})]})};function ga(t){const{menuOpen:a,menuOpenFalse:s,...n}=t;return e.jsx(React.StrictMode,{children:e.jsx(je,{injectFirst:!0,children:e.jsx(ht,{anchor:"left",open:a,onClose:s,...n,children:tt.map((r,o)=>{const{children:l,id:u="",path:d=""}=r;return e.jsxs(React.StrictMode,{children:[e.jsx(xt,{children:l?e.jsx(xa,{item:r}):e.jsx(Je,{text:u,path:ve(d),className:M.overview??""})},o),e.jsx(Se,{})]})})})})})}function fa(){ge(),he(()=>{});const[t,a]=React.useState(!1);return e.jsxs(React.StrictMode,{children:[e.jsx(ia,{menuOpenTrue:a.bind(null,!0)}),e.jsx(ga,{menuOpen:t,menuOpenFalse:a.bind(null,!1)}),e.jsx($e,{})]})}const ja="_loginBody_1iyc9_1",Sa="_input_1iyc9_19",We={loginBody:ja,input:Sa},ya={className:We.input??"",variant:"outlined"};function ba(){const t=ge(),a=ReactRedux.useDispatch(),[s,n]=X({adminId:"1038762",password:"666666",scode:""}),[r,o]=React.useState(!1),{adminId:l,password:u,scode:d}=s,i=/^[A-Z]\d{6}$/.test(l),h=/^\w{6,20}$/.test(u),p=/^\w{5}$/.test(d),f=(g="",R=!0,N="",ae="")=>({...ya,...r?g?R?{}:{error:!0,helperText:ae}:{error:!0,helperText:N}:{}});rt(()=>{o(!1)},[i,h,p]);const[_,j]=React.useState(""),x=()=>Wt().then(g=>j(g??""));React.useEffect(()=>{x()},[]);const{run:b,loading:A}=xe(()=>Jt(s)(a).then(g=>g?t("/"):x()).catch(console.error),{..._e,manual:!0});return e.jsx(React.StrictMode,{children:e.jsx("div",{className:We.loginBody,children:e.jsxs("div",{children:[e.jsx("h3",{children:"移动监控面板"}),e.jsx(Y,{label:"账号",onChange:g=>n({adminId:g.target.value}),...f(l,i,"请输入账号","账号格式不正确"),autoFocus:!0,autocomplete:!0,maxlength:7,pattern:/^\d{7}$/}),e.jsx(Y,{label:"密码",type:"password",onChange:g=>n({password:g.target.value}),...f(u,h,"请输入密码","密码格式不正确"),maxlength:20,autocomplete:!0,pattern:/^\w{6,20}$/}),e.jsx("img",{src:`data:image/jpeg;base64,${_}`,alt:"No Network",onClick:()=>x()}),e.jsx(Y,{label:"验证码",onChange:g=>n({scode:g.target.value}),...f(d,p,"请输入验证码","验证码格式不正确"),maxlength:5,autocomplete:!0,pattern:/^\w{5}$/}),e.jsx(ft,{variant:"contained",size:"large",loading:A,onClick:()=>{o(!0),!(!i||!h||!p)&&b()},children:"登录"})]})})})}function va(){return he(()=>{Xt().then(t=>{})}),e.jsx(React.StrictMode,{children:e.jsx($e,{})})}const _a="_root_x6ehs_1",Ra="_Skeleton_x6ehs_4",Ta="_aLink_x6ehs_14",oe={root:_a,Skeleton:Ra,aLink:Ta},Aa="_AppBar_1ydua_1",Na="_menuIcon_1ydua_11",Ia="_Avatar_1ydua_19",Oa="_open_1ydua_27",wa="_Popover_1ydua_39",Ca="_DialogActions_1ydua_49",ka="_ToggleButtonGroup_1ydua_60",Ma="_date_1ydua_69",Pa="_AccordionDetails_1ydua_87",Ba="_AccordionSummary_1ydua_91",Da="_filterResult_1ydua_96",$a="_Breadcrumbs_1ydua_109",La="_CurrentFilterShow_1ydua_116",y={AppBar:Aa,menuIcon:Na,Avatar:Ia,open:Oa,Popover:wa,DialogActions:Ca,ToggleButtonGroup:ka,date:Ma,AccordionDetails:Pa,AccordionSummary:Ba,filterResult:Da,Breadcrumbs:$a,CurrentFilterShow:La},{fromEntries:W}=Object,Ke="custom",L=(t=new Date)=>`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`,Xe=(...t)=>t.map(a=>a.replaceAll("-","")).join("-"),Pe=t=>{const a=new Date;return a.setDate(a.getDate()-t),Xe(L(a),L())},K=[{label:"threeMonth",text:"近三个月",value:Pe(90)},{label:"thirtyDay",text:"近30天",value:Pe(30)},{label:Ke,text:"自定义"}],ee=[{text:"市",label:"city_id"},{text:"区县",label:"area_id"},{text:"网格",label:"grid_id"},{text:"营业厅",label:"end_id"}],Ea="-1",Fa=(t,a)=>[{[T]:`所有${a}`,regionId:Ea},...t.map(s=>({...s,[T]:`${s?.[T]}${a}`,regionId:s.regionId??"0"}))],Be="河北省",De=t=>{const{address:a,hasDataIndex:s,isCustomTime:n,customTimeFormat:r,f:o=void 0,noNeedTime:l=!1,noNeedAddress:u=!1,unitName:d=[],setBreadcrumbsAddress:i}=t,h=!l&&!u;return e.jsxs(Qe,{className:y.filterResult??"",elevation:24,children:[h&&e.jsxs(React.StrictMode,{children:[e.jsxs("div",{children:["当前",e.jsx("wbr",{}),"筛选"]}),e.jsx("span",{children:"{"})]}),e.jsxs("div",{children:[e.jsxs("div",{children:["地理位置：",e.jsxs(Tt,{className:y.Breadcrumbs??"",children:[s?e.jsx(we,{onClick:()=>{i(-1)},children:Be}):e.jsx("span",{children:Be}),d.filter(p=>a[p.label]).map((p,f,_)=>f===_.length-1?e.jsx("span",{children:a[p.label]?.[T]}):e.jsx(we,{onClick:()=>{i(f)},children:a[p.label]?.[T]},f)),s>=0&&e.jsx("span",{children:`所有${d[s]?.text}`})]})]}),h&&e.jsx(Se,{}),!l&&e.jsxs("p",{children:["时间范围：",n?r:o?.text]})]})]})},Ye=React.forwardRef((t,a)=>{const s=Number(localStorage.getItem(B)??z()),n=s?ee.slice(s):ee,{run:r,noNeedTime:o=!1,noNeedAddress:l=!1}=t,[u,d]=React.useState(K[0]?.label),[i,h]=X({start:L(),end:L()}),[p,f]=X(W(n.map(c=>[c.label,null]))),[_,j]=X(W(n.map(c=>[c.label,[]])));he(()=>ReactDOM.unstable_batchedUpdates(()=>{me({level:s,regionId:V(P)}).then(c=>{const m=n[0]?.label;c&&m&&j({[m]:c})})}));const x=n.findIndex(c=>!p[c.label]),b=K.find(c=>c.label===u),A=b?.label===Ke,g=Xe(i.start,i.end),[R,N]=React.useState(!1),ae=React.useCallback(c=>ReactDOM.unstable_batchedUpdates(()=>{f(W(n.filter((m,v)=>v>c).map(m=>[m.label,null]))),N(!0)}),[]),ne={address:p,hasDataIndex:x,isCustomTime:A,customTimeFormat:g,f:b,noNeedAddress:l,noNeedTime:o,unitName:n,setBreadcrumbsAddress:ae},[nt,se]=React.useState(!1),[Re,st]=React.useState(ne);return React.useEffect(()=>ReactDOM.unstable_batchedUpdates(()=>{R&&(r({...!o&&{date:A?g:b?.value},regionId:[be().regionId,...n.filter(c=>p[c.label]).map(c=>p[c.label]?.regionId)].join("."),level:x<0?ee.length-1:x}),st(ne),se(!1),N(!1))}),[R]),React.useImperativeHandle(a,()=>({toDown:c=>ReactDOM.unstable_batchedUpdates(()=>{if(!c)return;const{regionName:m,regionId:v}=c,C=n[x]?.label;C&&(f({[C]:{regionId:v,regionName:m}}),N(!0))})})),e.jsxs(React.StrictMode,{children:[e.jsxs("div",{className:y.CurrentFilterShow,children:[!l&&e.jsx(fe,{variant:"contained",size:"large",onClick:se.bind(null,!0),children:"筛选器"}),!!Re.hasDataIndex&&e.jsxs(jt,{variant:"extended",color:"primary",onClick:()=>ReactDOM.unstable_batchedUpdates(()=>{const c=x>-1?x-1:n.length-1,m=n[c]?.label;m&&(f({[m]:null}),N(!0))}),children:[e.jsx(St,{}),"返回上级"]}),e.jsx(De,{...Re})]}),e.jsxs(Fe,{open:nt,fullScreen:!0,children:[e.jsxs(Le,{className:y.AppBar??"",position:"sticky",children:[e.jsx(Ee,{size:"large",className:y.menuIcon??"",onClick:se.bind(null,!1),children:e.jsx(yt,{})}),e.jsx(re,{children:"筛选器"}),e.jsx(Z,{autoFocus:!0,variant:"contained",color:"success",endIcon:e.jsx(bt,{}),onClick:()=>{N(!0)},children:"确定"})]}),e.jsx(De,{...ne}),!l&&e.jsxs(Ne,{defaultExpanded:!0,elevation:24,children:[e.jsx(Ie,{expandIcon:e.jsx(ce,{}),className:y.AccordionSummary??"",children:e.jsx(re,{children:"地理范围筛选"})}),e.jsx(Oe,{className:y.AccordionDetails??"",children:n.map((c,m)=>{if(x>=0&&m>x)return e.jsx(e.Fragment,{});const{label:v}=c,C=_[v];if(!C)return e.jsx(e.Fragment,{});const Te=Fa(C,c.text),Ae=!C.length;return e.jsx(vt,{disablePortal:!0,autoSelect:!0,autoComplete:!0,autoFocus:!0,autoHighlight:!0,loading:Ae,options:Te,getOptionLabel:I=>I?.regionName??"",isOptionEqualToValue:(I,O)=>I.regionId===O.regionId,onChange:(I,O)=>ReactDOM.unstable_batchedUpdates(()=>{f(W(n.filter((D,H)=>H>=m).map(D=>[D.label,null])));const Q=O?.regionId;f({[v]:O}),m!==n.length-1&&Q&&me({level:s+m+1,regionId:Q}).then(D=>{const H=n[m+1]?.label;D&&H&&j({[H]:D})})}),value:p[v]??Te[0]??null,renderInput:({size:I,InputProps:O,...Q})=>e.jsx(Y,{...I&&{size:I},...Q,InputProps:{...O,endAdornment:e.jsxs(React.StrictMode,{children:[Ae?e.jsx(ze,{}):null,O.endAdornment]})},label:`请选择${c.text}`}),noOptionsText:"无此选项"},m)})})]}),!o&&e.jsxs(Ne,{defaultExpanded:!0,elevation:24,children:[e.jsx(Ie,{expandIcon:e.jsx(ce,{}),className:y.AccordionSummary??"",children:e.jsx(re,{children:"时间范围筛选"})}),e.jsxs(Oe,{children:[e.jsx(_t,{color:"primary",value:u,exclusive:!0,onChange:(c,m)=>{d(v=>m??v)},className:y.ToggleButtonGroup??"",children:K.map((c,m)=>e.jsx(Rt,{value:c.label,children:c.text},m))}),e.jsx(Ve,{in:u===K[2]?.label,children:e.jsxs("div",{className:classNames(y.date,{}),children:[e.jsxs("label",{children:["开始日期：",e.jsx("input",{type:"date",value:i.start,onChange:c=>{const{value:m}=c.target;h({start:m})},max:i.end})]}),e.jsxs("label",{children:["结束日期：",e.jsx("input",{type:"date",value:i.end,onChange:c=>{const{value:m}=c.target;h({start:new Date(m).getTime()<new Date(i.start).getTime()?m:i.start,end:m})},max:L()})]})]})})]})]})]})]})}),T="regionName";function Ze(t){const{columns:a,action:s,noNeedTime:n,noNeedAddress:r}=t,[o,l]=React.useState(0),[u,d]=React.useState(10),{data:i=[],loading:h,run:p}=xe(s,_e),f=React.useRef(null),_=React.useRef(null);return e.jsx(React.StrictMode,{children:e.jsx(je,{injectFirst:!0,children:e.jsxs(Qe,{className:classNames(oe.root),elevation:24,children:[e.jsx(Ye,{ref:_,run:p,noNeedTime:n,noNeedAddress:r}),e.jsx(At,{children:e.jsxs(Nt,{stickyHeader:!0,children:[e.jsx(It,{ref:f,children:e.jsx(Ce,{children:a.map((j,x)=>e.jsx(ke,{align:"center",children:j.text},x))})}),e.jsx(Ot,{children:i.slice(o*u,o*u+u).map((j,x)=>e.jsx(Ce,{hover:!0,children:h?e.jsx("td",{colspan:a.length,className:oe.Skeleton??"",style:{"--height":`${f.current?.clientHeight}px`},children:e.jsx(wt,{variant:"rounded",animation:"wave"})}):a.map((b,A)=>{const g=b?.label,R=j?.[g];return e.jsx(ke,{align:"center",...T===g&&A===0&&Number(j.level)!==ee.length-1&&{onClick:()=>{_.current?.toDown({regionId:"0",[T]:"A市"})},className:oe.aLink??""},children:b.format&&typeof R=="number"?b.format(R):String(R)},A)})},x))})]})}),e.jsx(Ct,{component:"div",count:i.length,rowsPerPage:u,page:o,onPageChange:(j,x)=>{l(x)},onRowsPerPageChange:j=>ReactDOM.unstable_batchedUpdates(()=>{d(+j.target.value),l(0)}),labelDisplayedRows:j=>`${j.from}-${j.to}/共${j.count}项`,labelRowsPerPage:"每页行数："})]})})})}const Ua=[{label:T,text:"单位"},{label:"daySalesNum",text:"日销量"},{label:"monthSalesNum",text:"月销量"},{label:"monthRelativeRate",format:t=>`${(t*100).toLocaleString()}%`,text:"月销量环比"},{label:"yearSalesNum",text:"年销量"}];function Va(){return e.jsx(React.StrictMode,{children:e.jsx(Ze,{columns:Ua,action:me,noNeedAddress:!0,noNeedTime:!0})})}function za({dom:t,option:a,data:s}){try{const n=echarts.getInstanceByDom(t)??echarts.init(t);return n.setOption({animation:!0,animationDuration:1500,animationEasingUpdate:"quinticInOut",tooltip:{},legend:{},...a,series:{type:"pie",radius:["40%","70%"],itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1,position:"center"},emphasis:{label:{show:!0,fontSize:40,fontWeight:"bold"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},labelLine:{show:!0},...a?.series,data:s}}),n}catch{return}}const Qa="_echarts_kd7ge_1",Ha="_loading_kd7ge_6",qa="_noLoading_kd7ge_16",pe={echarts:Qa,loading:Ha,noLoading:qa},{freeze:Ga}=Object,le=Ga([{type:"day",label:"日销量"},{type:"month",label:"月销量"},{type:"year",label:"年销量"}]),Ja=t=>{const{data:a}=t,s=React.useRef(null),{current:n}=s;return React.useEffect(()=>{setTimeout(()=>{if((n||s.current)&&a)try{za({dom:n??s.current??document.createElement("div"),data:a})}catch{}})},[n,a]),e.jsx("div",{ref:s,className:classNames(pe.echarts),...n&&{style:{"--offsetTop":`${n?.offsetTop}px`}}})};function Wa(){const[t,a]=React.useState("0"),s=le[Number(t)]?.type??"",{data:n,loading:r,run:o}=xe(d=>Yt({...d,type:s}),{..._e,refreshDeps:[s]}),l=r||!n,u=React.useRef(null);return e.jsxs(React.StrictMode,{children:[e.jsx(Ye,{ref:u,noNeedTime:!0,run:d=>o({...d,type:s})}),e.jsxs(kt,{value:t,children:[e.jsx(Mt,{centered:!0,value:t,onChange:(d,i)=>{a(i.toString())},children:le.map((d,i)=>e.jsx(Pt,{value:i.toString(),label:d.label},i))}),e.jsx(Se,{}),le.map((d,i)=>e.jsx(Bt,{value:i.toString(),className:classNames(l?pe.loading:pe.noLoading),children:e.jsx(React.StrictMode,{children:r?e.jsx(ze,{}):e.jsx(Ja,{data:n})})},i))]})]})}function Ka(){return e.jsx(React.StrictMode,{children:e.jsx(Ze,{columns:[{label:"price",text:"机型价位段",format:t=>t===5e3?"5000元以上":`${t.toLocaleString()}元`},{label:"salesVolume",text:"销量"},{label:"proportion",format:t=>`${t.toLocaleString()}%`,text:"占比"}],action:t=>Kt(t).then(a=>a?[...a,{price:"合计",salesVolume:a.reduce((s,n)=>s+n.salesVolume,0),proportion:100}]:[])})})}var et=(t=>(t.login="login",t.auth="auth",t.overview="overview",t.SalesVolumeMonitoring="SalesVolumeMonitoring",t.DistributionOfTerminalSales="DistributionOfTerminalSales",t.TerminalActivitySalesStructure="TerminalActivitySalesStructure",t.SalesStructureOfTerminalPriceRanges="SalesStructureOfTerminalPriceRanges",t.TOP10ModelInformation="TOP10ModelInformation",t.QualityOfTerminalSalesInThePanAlliance="QualityOfTerminalSalesInThePanAlliance",t.SalesSituationOfTerminalSubChannels="SalesSituationOfTerminalSubChannel",t.PurchaseQuantityMonitoring="PurchaseQuantityMonitoring",t.OrderQuantityOfMobileTerminals="OrderQuantityOfMobileTerminals",t.InventoryMonitoring="InventoryMonitoring",t.InventoryQuantity="InventoryQuantity",t.InventoryStructure="InventoryStructure",t))(et||{});const tt=[{path:"",id:"总览",element:e.jsx(va,{})},{path:"SalesVolumeMonitoring",id:"终端销量分布",children:[{path:"DistributionOfTerminalSales",id:"终端销量分布",element:e.jsx(Va,{})},{path:"TerminalActivitySalesStructure",id:"终端活动销售结构",element:e.jsx(Wa,{})},{path:"SalesStructureOfTerminalPriceRanges",id:"终端各价位段销售结构",element:e.jsx(Ka,{})},{path:"TOP10ModelInformation",id:"TOP10机型信息"},{path:"QualityOfTerminalSalesInThePanAlliance",id:"泛全联盟终端销售质量"},{path:"SalesSituationOfTerminalSubChannel",id:"终端分渠道销售情况"}]},{path:"PurchaseQuantityMonitoring",id:"进货量监控",children:[{path:"OrderQuantityOfMobileTerminals",id:"手机终端订货数量"}]},{path:"InventoryMonitoring",id:"库存量监控",children:[{path:"InventoryQuantity",id:"库存数量"},{path:"InventoryStructure",id:"库存结构"}]}],ve=(...t)=>`/${t.join("/")}`;function Xa(){return e.jsxs(ot,{children:[e.jsx(q,{path:"login",element:e.jsx(ba,{})}),e.jsx(q,{path:"/",element:e.jsx(fa,{}),children:tt.map((t,a)=>e.jsx(q,{path:t.path??"",element:t.element,children:t.children?.map((s,n)=>e.jsx(q,{path:s.path??"",element:s.element},n))},a))})]})}const Ya=Redux.combineReducers({SnackBar:zt,AppBarTitle:oa}),at=Redux.legacy_createStore(Ya,Redux.applyMiddleware(ReduxThunk));at.subscribe(()=>{});const Za="_Snackbar_1t4e7_1",en={Snackbar:Za};function tn(){const{open:t,alertText:a,severity:s}=Qt(o=>({open:o.SnackBar.open,alertText:o.SnackBar.alertText,severity:o.SnackBar.severity})),n=ReactRedux.useDispatch(),r=(o,l)=>{l!=="clickaway"&&n({type:te.OPENFALSE})};return e.jsx(React.StrictMode,{children:e.jsx(Dt,{open:!!(t&&a),autoHideDuration:6e3,onClose:r,message:a,className:en.Snackbar??"",children:e.jsx($t,{onClose:r,severity:s,variant:"filled",children:a})})})}const _e={loadingDelay:300,throttleWait:300};function an(){return e.jsx(React.StrictMode,{children:e.jsx(je,{injectFirst:!0,children:e.jsxs(Lt,{children:[e.jsx(Et,{}),e.jsx(ReactRedux.Provider,{store:at,children:e.jsxs(React.StrictMode,{children:[e.jsx(Ut,{children:e.jsx(Xa,{})}),e.jsx(tn,{})]})})]})})})}const{random:S}=Math;Mock.mock(/\/api\/sale\/subregion.*/,"get",{code:1e3,"data|1-50":[{regionName:"@city",daySalesNum:~~(S()*10),monthSalesNum:~~(S()*100),monthRelativeRate:(S()-.5)*10,yearSalesNum:~~(S()*1e3),level:1}]});Mock.mock(/\/api\/SalesVolumeMonitoring\/TerminalActivitySalesStructure\?.*type=year.*/,"get",{code:1e3,data:[{value:~~(S()*1e3),name:"顺差让利"},{value:~~(S()*1e3),name:"分期合约"},{value:~~(S()*1e3),name:"金币合约"}]});Mock.mock(/\/api\/SalesVolumeMonitoring\/TerminalActivitySalesStructure\?.*type=month.*/,"get",{code:1e3,data:[{value:~~(S()*100),name:"顺差让利"},{value:~~(S()*100),name:"分期合约"},{value:~~(S()*100),name:"金币合约"}]});Mock.mock(/\/api\/SalesVolumeMonitoring\/TerminalActivitySalesStructure\?.*type=day.*/,"get",{code:1e3,data:[{value:~~(S()*10),name:"顺差让利"},{value:~~(S()*10),name:"分期合约"},{value:~~(S()*10),name:"金币合约"}]});const nn=()=>" ".repeat(25).split(" ").map((t,a)=>({label:String.fromCharCode(a+65),id:a}));Mock.mock(/\/api\/getAddressList.*/,"get",{code:1e3,data:nn()});ReactDOM.render(e.jsx(React.StrictMode,{children:e.jsx(an,{})}),document.body);
